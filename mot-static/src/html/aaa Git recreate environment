Git recreate environment

Valtechs-MacBook-Pro:VOSA - MOT nigelsedgwick$ cd $dev_workspace 

Valtechs-MacBook-Pro:mot nigelsedgwick$ ls
ComposerUpdate.sh		codestyle-rules			mot-common-web-module		mot-web-frontend		smtpserver.py
DVSA_workspace_fixes.sh		composer.json			mot-fitnesse			mot1-migration			style-guide
Jenkins_Scripts			composer.lock			mot-is				openam.sh			vendor
NFT_Scripts			exportEntities.sh		mot-selenium			rebuild_doctrine_entities.sh
build.xml			mot-api				mot-static			run_unit_tests.sh

Valtechs-MacBook-Pro:mot nigelsedgwick$ cd ../infrastructure/

Valtechs-MacBook-Pro:infrastructure nigelsedgwick$ ls
RPM			bootstrap		gitlab			manifests		puppetdb.conf
Vagrantfile		environments		hiera.vagrant.yaml	node.rb			rack
auth.conf		files			hiera.yaml		puppet.conf		routes.yaml
autosign.conf		fileserver.conf		hieradata		puppet.conf.foreman

Valtechs-MacBook-Pro:infrastructure nigelsedgwick$ pwd
/Users/nigelsedgwick/Documents/DVSA/infrastructure

Valtechs-MacBook-Pro:infrastructure nigelsedgwick$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
nothing to commit, working directory clean

Valtechs-MacBook-Pro:infrastructure nigelsedgwick$ vagrant provision lamp
/Applications/Vagrant/bin/../embedded/gems/gems/vagrant-1.5.1/lib/vagrant/pre-rubygems.rb:30: warning: Insecure world writable dir /usr in PATH, mode 040777
/Applications/Vagrant/embedded/gems/gems/bundler-1.5.3/lib/bundler/runtime.rb:220: warning: Insecure world writable dir /usr in PATH, mode 040777
==> lamp: Configuring cache buckets...
==> lamp: Running provisioner: puppet...
Running Puppet with vagrant.pp...
Notice: Compiled catalog for vagrant-lamp in environment npm in 16.78 seconds
^C==> lamp: Waiting for cleanup before exiting...
^C==> lamp: Exiting immediately, without cleanup!

Valtechs-MacBook-Pro:infrastructure nigelsedgwick$ vagrant halt
==> lamp: Removing cache buckets symlinks...
==> lamp: Attempting graceful shutdown of VM...
etc
etc
etc
==> ossec: VM not created. Moving on...

Valtechs-MacBook-Pro:infrastructure nigelsedgwick$ vagrant destroy lamp
    lamp: Are you sure you want to destroy the 'lamp' VM? [y/N] y
==> lamp: Destroying VM and associated drives...
==> lamp: Pruning invalid NFS exports. Administrator privileges will be required...
Password:
==> lamp: Running cleanup tasks for 'puppet' provisioner...

Valtechs-MacBook-Pro:infrastructure nigelsedgwick$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
nothing to commit, working directory clean

Valtechs-MacBook-Pro:infrastructure nigelsedgwick$ git pull
remote: Counting objects: 210, done.
remote: Compressing objects: 100% (93/93), done.
remote: Total 167 (delta 94), reused 102 (delta 65)
Receiving objects: 100% (167/167), 81.96 KiB | 44.00 KiB/s, done.
Resolving deltas: 100% (94/94), completed with 29 local objects.
From ssh://git.clb.npm/infrastructure
   ec48300..d237cfd  master     -> origin/master
Updating ec48300..d237cfd
Fast-forward
 environments/common/ldap/manifests/init.pp                           |    1 +
 environments/common/ldap/manifests/server/master.pp                  |    2 +
etc
etc
etc                     
 environments/common/squid3/templates/squid.conf.documented           | 5495 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 environments/common/squid3/templates/squid.conf.long.erb             | 5551 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 environments/common/squid3/templates/squid.conf.short.erb            |   95 ++
 environments/common/sslcerts/manifests/init.pp                       |   10 +
etc
etc
etc                
 hiera.yaml                                                           |    1 +
 puppet.conf                                                          |   14 +-
 33 files changed, 11651 insertions(+), 166 deletions(-)
 create mode 100644 environments/common/profile/files/pam_ldap/ldapns.schema
 create mode 100644 environments/common/profile/manifests/pam_ldap/ldap_schema.pp
etc
etc
etc
 create mode 100644 environments/npm/hieradata/proxy.yaml
 
Valtechs-MacBook-Pro:infrastructure nigelsedgwick$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
nothing to commit, working directory clean

Valtechs-MacBook-Pro:infrastructure nigelsedgwick$ vagrant up lamp
Bringing machine 'lamp' up with 'virtualbox' provider...
==> lamp: Importing base box 'CentOS-6.5-x86_64-v20140504'...
==> lamp: Matching MAC address for NAT networking...
==> lamp: Setting the name of the VM: infrastructure_lamp_1402562951553_77118
==> lamp: Clearing any previously set network interfaces...
==> lamp: Preparing network interfaces based on configuration...
    lamp: Adapter 1: nat
etc
etc
etc
==> lamp: Configuring cache buckets...
==> lamp: Running provisioner: puppet...
Running Puppet with vagrant.pp...
Notice: Compiled catalog for vagrant-lamp in environment npm in 15.63 seconds
Notice: /Stage[first]/Profile::Yum_repos/File[/etc/yum.repos.d/CentOS-Debuginfo.repo]/ensure: removed
etc
etc
etc
Notice: /Stage[main]/Dvsa-standard-phpdev/Pear::Package[PHP_PMD]/Package[pear-pear.phpmd.org-PHP_PMD]/ensure: created
Notice: /Stage[main]/Profile::Pte::Lamp/File[/etc/httpd/conf.d/sendfile_vbox.conf]/ensure: created
Notice: /Stage[main]/Apache::Service/Service[httpd]/ensure: ensure changed 'stopped' to 'running'
Notice: /Stage[main]/Profile::Pte::Lamp/Mysql_user[root@192.168.149.1]/ensure: created
Notice: /Stage[main]/Profile::Pte::Lamp/Mysql_grant[root@192.168.149.1/*.*]/ensure: created
Notice: Finished catalog run in 2145.07 seconds
==> lamp: Configuring cache buckets...
