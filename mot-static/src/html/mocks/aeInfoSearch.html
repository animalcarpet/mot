<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>MOT Modernisation</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Le styles -->
	<link href="/css/bootstrap.min.css" media="screen" rel="stylesheet" type="text/css">
	<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
	<link href="/css/enforcement.css" media="screen" rel="stylesheet" type="text/css">
    <!--link href="/css/form-styles.css" media="screen" rel="stylesheet" type="text/css"-->
	<link href="/img/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon">
	<!-- Scripts -->
	<script type="text/javascript" src="/js/libraries.min.js"></script>
	<script type="text/javascript" src="/js/typeahead.min.js"></script>
	<script type="text/javascript" src="/js/jquery.validate.min.js"></script>
    <script type="text/javascript" src="/js/additional-methods.min.js"></script>
	<!--[if lt IE 9]><script type="text/javascript" src="/js/lt.ie9.min.js"></script><![endif]-->
</head>
<body class="not-fixed">
	<div class="navbar">
			<div class="container">
				<h2>DVSA MOT</h2>
			</div>
	</div>

	<div class="container">
		<div class="row">
			<!-- Note to PHP developers -- class names and id names liable to change -->
			<div class="col-lg-10 user-banner">
				<p>
					<strong>Nigel Sedgwick</strong> - Vehicle Examiner                                                
				</p>		
			</div>
			<div class="col-lg-2 user-banner">
				<p>
					<a href="">Homepage</a>                                               
				</p>		
			</div>
		</div>

        <div id="validation-summary-id" ></div>
        
        
	<form   id="vts-search-form" action="../../../../mot-web-frontend/public/vtsSearchResults.html" method="GET">

		<div style="padding-top:3em;" >
			<!-- Give it bit of vertical space -->
		</div>

		<div class="row form-group" >
            <div class="col-sm-4">
                <label for="searchEntity" class="control-label primary-item-large">
                	Search for AE information...
                </label>
            </div>

            
        </div>


		<div class="row">
			<div class="col-sm-12 col-lg-10 vts-search-panel">
				
				<div class="row">
					<div class="col-sm-12">
						<input type="text" id="vts-search" name="search" value="" class="form-control" 
						placeholder="Enter any ID, Name, Postcode, Town, Telephone number etc - or combinations thereof ... For example:  London SW2" maxlength="100" width="100">
						<button type="submit" class="btn-search" id="item-selector-btn-search" >
							<i class="fa fa-search"> </i>
							<span class="visually-hidden">Search</span>
						</button>
					</div>
				</div>
			</div>
		</div>
	</form>
    



<script type="text/javascript">
/* <![CDATA[ */
/* log function - Used to make console logging cross browser */
function log(display) {
    if (typeof window.console !== 'undefined') {console.log(display); }
}



function setupTypeaheadOnAE() { // Define as a function to make it easily re-usable
    $('#vts-search').typeahead([ // typeahead.js docs info here: https://github.com/twitter/typeahead.js
     {
        name: 'vtsInfo',
        prefetch: '/data/VTS-full-details-lines-7000.json', // 'remote' is used when data provided by local & prefetch is insufficient. In order to prevent an obscene number of requests being made to remote endpoint, typeahead.js rate-limits remote requests
        cache: false, 			// set to true when done with development
        minLength: 3, 			// set's the min length of chars needed before Autocomplete kicks in
        limit: 8				// Limit the number of rows to 8 
      }
    ]).on('typeahead:selected', function (e, data) { 
      var aeInfo = data.value.split(',');	// AE id will be the first element of vtsInfo array
      var destination = "aeDetails.html?id="+aeInfo[0];
      window.location = destination;
    }).on('typeahead:autocompleted', function (e, data) {
      var aeInfo = data.value.split(',');	// AE id will be the first element of vtsInfo array
      var destination = "aeDetails.html?id="+aeInfo[0]; 
      window.location = destination;
    });
}

$(document).ready(function() {

	setupTypeaheadOnAE();



});
/* ]]> */
</script>

</div> <!-- /container -->
</body>
</html>
