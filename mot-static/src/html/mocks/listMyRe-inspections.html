<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>My Re-inspection Reports</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
   <!-- Le styles -->
    <link href="/css/bootstrap.min.css" media="screen" rel="stylesheet" type="text/css">
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
    <link href="/img/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon">
    <link href="/css/jquery.dataTables.css" media="screen" rel="stylesheet" type="text/css">
    <link href="/css/enforcement.css" media="screen" rel="stylesheet" type="text/css">    
    <!-- Scripts -->
    <script type="text/javascript" src="/js/libraries.min.js"></script>
    <script type="text/javascript" src="/js/typeahead.min.js"></script>
    <!--[if lt IE 9]><script type="text/javascript" src="/js/lt.ie9.min.js"></script><![endif]-->
    <script type="text/javascript" src="/js/jquery.dataTables.min.js"></script>
</head>

<body class="not-fixed">
	<div class="navbar">
			<div class="container">
				<h2>DVSA MOT</h2>
			</div>
	</div>

	<div class="container">
		<div class="row">
			<div class="col-lg-12 user-banner">
			<!--will soon be div class="col-lg-12 user-banner" 		  -->	
				<p>
					<strong>Nigel Sedgwick</strong> - Vehicle Examiner                                                
				</p>		
			</div>
		</div>

		<div class="row">
		<!-- Note to PHP developers -- class names and id names liable to change -->
			<div class="col-sm-12">
		    <h1>Re-inspections</h1>
		    
		    <h3>Reinspections performed by </h3>
		    <div class="row">
				<div class="col-sm-12 col-lg-8 vts-search-panel">
					
					<div class="row">
						<div class="col-sm-12">
							
								<input type="text" id="ve-search" name="search" value="" required="required" class="form-control" placeholder="Enter ID of the Vehicle Examiner" maxlength="60" width="100">
							<button type="submit" class="btn-search" id="test-item-selector-btn-search" >
								<i class="fa fa-search"> </i>
								<span class="visually-hidden">Search</span>
							</button>
						</div>
					</div>
				</div>
			</div>
			</div>
		</div>
		
		<div class="row">
            <div class="col-sm-8">
              <div class="form-group">
              	
                <fieldset>
                  <label class="block-label" for="checkbox-1-2">
                    <input type="checkbox" value="2" name="checkbox-1-group" id="checkbox-1-2">
                    Include Closed statuses
                  </label>
                </fieldset>
              </div>
            </div>
        </div>
		
        <div class="row">
            <div class="col-sm-12">
                <div class="table-responsive">
                    <table class="table table-striped nowrap" id="listResults" style="width: 100%">
                        <thead>
							<tr>
								<th>Creation date</th>
								<th>Link</th>
								<th>VRM</th>
								<th>Make</th>
								<th>Model</th>
								<th>Type</th>
								<th>Site</th>
								<th>Status</th>
							</tr>
						</thead>
						<tbody>
							<tr class="odd">
								<td>16 Jan 2014</td>
								<td><a href="javascript:void(0);">View</a></td>
								<td>VK02 MOT</td>
								<td title="Volkswagen">Volkswagen</td>
								<td title="Passat">Passat</td>
								<td>Targeted Re-inspection</td>
								<td>A364B2, Gold 4 Fast Mots, GL2 5DN</td>
								<td>Open</td>
							</tr>
							<tr class="even">
								<td>13 Jan 2014</td>
								<td><a href="javascript:void(0);">View</a></td>
								<td>VZ03 MOT</td>
								<td title="Volkswagen">Volkswagen</td>
								<td title="Jetta">Jetta</td>
								<td>Targeted Re-inspection</td>
								<td>6779A2, G &amp; T Automotive Services, BS5 9RD</td>
								<td>Open</td>
							</tr>
							<tr class="odd">
								<td>12 Jan 2014</td>
								<td><a href="javascript:void(0);">View</a></td>
								<td>FU02 MOT</td>
								<td title="Volkswagen">Volkswagen</td>
								<td title="Sharan">Sharan</td>
								<td>Targeted Re-inspection</td>
								<td>V104014, A &amp; M Tyre &amp; Exhaust Centre, BS2 9XT</td>
								<td>Closed</td>
							</tr>
							<tr class="even">
								<td>13 Jan 2014</td>
								<td><a href="javascript:void(0);">View</a></td>
								<td>FORD 123</td>
								<td title="Ford">Ford</td>
								<td title="Anglia">Anglia</td>
								<td>Targeted Re-inspection</td>
								<td>V104492, A C B Motor Repairs, B31 2SL</td>
								<td>Open</td>
							</tr>
							<tr class="odd">
								<td>15 Jan 2014</td>
								<td><a href="javascript:void(0);">View</a></td>
								<td>VK02 MOT</td>
								<td title="Fiat">Fiat</td>
								<td title="Cinquecento Hawaii">Cinquecento Hawaii</td>
								<td>Targeted Re-inspection</td>
								<td>1ALE62, Allen Ford, BA2 3EW</td>
								<td>Closed</td>
							</tr>
							<tr class="even">
								<td>16 Dec 2013</td>
								<td><a href="javascript:void(0);">View</a></td>
								<td>VK02 MOT</td>
								<td title="Nissan">Nissan</td>
								<td title="Thing">Thing</td>
								<td>Targeted Re-inspection</td>
								<td>V104492, A C B Motor Repairs, B31 2SL</td>
								<td>Open</td>
							</tr>
						 	<tr class="odd">
								<td>04 Jan 2014</td>
								<td><a href="javascript:void(0);">View</a></td>
								<td>FRED 1</td>								
								<td title="Volkswagen">Volkswagen</td>
								<td title="Golf">Golf</td>
								<td title="Targeted Re-inspection">Targeted Re-inspection</td>
								<td>1ALP41, Alpha Motoring Centre, BS31 2AP</td>
								<td>Closed</td>
							</tr>
							<tr class="even">
								<td>03 Dec 2013</td>
								<td><a href="javascript:void(0);">View</a></td>
								<td>FRED 1</td>
								<td title="Volkswagen">Volkswagen</td>
								<td title="Passat">Passat</td>
								<td title="Targeted Re-inspection">Targeted Re-inspection</td>
								<td>1ALP41, Alpha Motoring Centre, BS31 2AP</td>
								<td>Closed</td>
							</tr>
						 	<tr class="odd">
								<td>02 Dec 2013</td>
								<td><a href="javascript:void(0);">View</a></td>
								<td>FRED 1</td>
								<td title="Volkswagen">Volkswagen</td>
								<td title="Passat">Passat</td>
								<td title="Targeted Re-inspection">Targeted Re-inspection</td>
								<td>80592, Archway Autos Limited, BS2 0QD</td>
								<td>Open</td>
							</tr>
							<tr class="even">
								<td>22 Dec 2013</td>
								<td><a href="javascript:void(0);">View</a></td>
								<td>FRED 1</td>
								<td title="Volkswagen">Volkswagen</td>
								<td title="Passat">Passat</td>
								<td title="Targeted Re-inspection">Targeted Re-inspection</td>
								<td>1ALP41, Alpha Motoring Centre, BS31 2AP</td>
								<td>Open</td>
							</tr>
						 	<tr class="odd">
								<td>21 Dec 2013</td>
								<td><a href="javascript:void(0);">View</a></td>
								<td>FRED 1</td>
								<td title="Volkswagen">Volkswagen</td>
								<td title="Passat">Passat</td>
								<td title="Targeted Re-inspection">Targeted Re-inspection</td>
								<td>80592, Archway Autos Limited, BS2 0QD</td>
								<td>Closed</td>
							</tr>
						</tbody>
					</table>
				</div>    
			</div>
            
        </div>
		
        
<script type="text/javascript">
/* LOG  - Used to make console logging cross browser  */
function log(display) {
	if (typeof window.console !== 'undefined') {console.log(display); }
}

function setupTypeaheadOnVE() { // Shove this into a function to make it easily re-usable
	log("here")
    $('#ve-search').typeahead([		// typeahead.js usage info here: https://github.com/twitter/typeahead.js
     {
        name: 'veData',
        prefetch: '/data/VE-data.json', // 'remote' is used when the data provided by local & prefetch is 
                                         // insufficient. In order to prevent an obscene number of requests being 
                                         // made to remote endpoint, typeahead.js rate-limits remote requests
        // limit: 5,  					 // can limit results if need be
        cache: false, 					 // set to true when done with development
        minLength: 2 					 // min length of chars needed before Autocomplete kicks in
      }
    ]).on('typeahead:selected', function (e, data) { 
      $('#test-item-selector-btn-search').click();
    }).on('typeahead:autocompleted', function (e, data) {
      $('#test-item-selector-btn-search').click();
    });
}

$(document).ready(function() {
  
  setupTypeaheadOnVE();

  $('.show-hide-container').addClass('collapse');

  var myTable = $('#listResults').dataTable({  // Info: http://datatables.net/release-datatables/examples/basic_init/filter_only.html
        "bPaginate": true,					    // Pagination
        "bLengthChange": true,			        // Ability to change the number of rows
        "bFilter": true,						// Enable filtering
        "bAutoWidth": true,
        "bSort": true,							// Enable sorting
		"aaSorting": [[ 0, "desc" ]],           // Sort descending by the 1st column (date/time)
        "bInfo": true,							// Suppress the "Showing X to Y of N entries" footer
        "aoColumnDefs": [{						// Set a 'truncate' width class on some columns
            "sClass": "truncate",
            "aTargets": [3,4]
        }],
		"oLanguage": {"sSearch":"Filter:"}      // Rename the Search label 
    });
    
    $('#listResults_filter').find("input").addClass( "form-control" );
    $('#listResults').find("thead").attr("style","background-color:#DEE0E2;");

	// Clicking Filter 'Open' checkbox
	$('#checkbox-1-1').on('click',function () { 
		log("checkbox-1-1 clicked");
		myTable.column([0,6]).search("Open").draw();  // TODO - info: www.datatables.net/examples/plug-ins/range_filtering.html
	});

	// Clicking Filter 'Closed' checkbox
	$('#checkbox-1-2').on('click',function () { 
		log("checkbox-1-2 clicked");
		myTable.column([0,6]).search("Closed").draw();  // TODO - info: www.datatables.net/examples/plug-ins/range_filtering.html
	});

});

$(".block-label").each(function() {
  // Add focus
  $(".block-label input").focus(function() {
    $("label[for='" + this.id + "']").addClass("add-focus");
  }).blur(function() {
  		$("label").removeClass("add-focus");
	});
  // Add selected class
  $('input:checked').parent().addClass('selected');
});

// Add/remove selected class
$('.block-label').find('input[type=radio], input[type=checkbox]').click(function() {
  $('input:not(:checked)').parent().removeClass('selected');
  $('input:checked').parent().addClass('selected');
  $('.toggle-content').hide();
  var target = $('input:checked').parent().attr('data-target');
  $('#'+target).show();
});
document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');

</script>

	</div> <!-- /container -->
</body>
</html>
