<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>MOT</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Base Styles -->
<!-- NMS NOTE - These references will need to change -->
<link href="css/jquery.dataTables.css" media="screen" rel="stylesheet" type="text/css">
<link href="css/bootstrap.min.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" media="screen" rel="stylesheet" type="text/css">
<link href="css/app.css" media="screen" rel="stylesheet" type="text/css">
<link type="image/x-icon" rel="shortcut icon" href="https://assets.digital.cabinet-office.gov.uk/static/favicon-447e4ac1ab790342660eacfe3dcce264.ico">
<script type="text/javascript" src="js/libraries.20141001101021.min.js"></script>
<script type="text/javascript" src="js/enforcement.20141001101021.min.js"></script>
<!--[if lt IE 9]><script type="text/javascript" src="/js/lt.ie9.20140916080922.min.js"></script><![endif]-->
<style>
.item-bold-link-disabled
{
    text-decoration: none !important;
    color: black !important;
    cursor: default;
    font-weight: bold;
}
.item-link-disabled
{
    text-decoration: none !important;
    color: black !important;
    cursor: default;
}
</style>
</head>


<body>
<header class="module-global-header">
    <div class="container" id="user-info">
        <a class="global-header_home-link" href="/"><img src="img/logo_mot2.gif" alt="MOT"></a>
        <p class="global-header_name">Mallory Archer (aedm)</p>
        <nav class="global-header_navigation">
            <ul>
                <li><a href="/" class="selected" id="homepage">Home</a></li>
                <li><a href="/profile" id="user-profile">Your Profile</a>
                </li>
                <li><a href="/logout" id="logout">Sign out</a></li>
            </ul>
        </nav>
    </div>
</header>
<div class="container">
    <div class="module-colour-flash">
    </div>
</div>
<div class="container">
     <p class="module-phase"><strong class="phase-name is-alpha">ALPHA</strong> This is a new service - your <a href="#">feedback</a> will help us to improve it.</p>
</div>
<div class="container">

    <!-- Progress Tracker -->
        <!-- END -->

    <!-- Titles -->
        <!-- END -->

    <div class="row contents">
        <div class="col-lg-12">
            <h1><span>Test logs</span>
                <small>Kwik Fit Inc.</small>
            </h1>
            <div class="row">

            </div>

            <div class="row slot-usage-totals">
                <div class="col-md-3">
                    <h4>Total tests</h4>
                </div>
                <div class="col-md-9">
                    <div class="row">
                        <!-- This section's numbers will be dynamically written by the back end  -->
                        <div class="col-md-3 report-quarter">
                            <h3>27</h3>
                            <span>Today</span>
                        </div>
                        <div class="col-md-3 report-quarter">
                            <h3>2,424</h3>
                            <span>Last 7 days</span>
                        </div>
                        <div class="col-md-3 report-quarter">
                            <h3>108,058</h3>
                            <span>Last 30 days</span>
                        </div>
                        <div class="col-md-3 report-quarter">
                            <h3>1,280,340</h3>
                            <span>Last 365 days</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-3">
                    <form action="" method="GET" name="CustomDateSearch" class="form-vertical">
                        <div class="module-results-search">
                            <label><span>Search</span>
                            <input type="text" id="searchbox" class="form-control" value="">
                            </label>
                            <p class="module-results-search___hint">Filter by Site ID, VRM, Make, etc.
                            <noscript>
                                <input type="submit" name="submit" class="btn btn-primary" value="Search">
                            </noscript>
                            </p>
                            
                        </div><!-- module-results-search -->

                        <div class="module-filters">
                            <h3 class="module-filters__header">Filter by</h3>
                            <div class="row contents"> 
                                <nav class="col-sm-12 module-filter-nav">
                                    <h4 class="module-filter-nav__header">Date range</h4>
                                    <ul class="module-filter-nav__list">
                                        <li id="justToday"><a id="todayrange" href="/samepage?dateRange=today">Today</a></li>
                                        <li id="last7days"><a id="7daysrange" href="/samepage?dateRange=7days">Last 7 days</a></li>
                                        <li id="last30days"><a id="30daysrange" href="/samepage?dateRange=30days">Last 30 days</a></li>
                                        <li id="last365days"><a id="365daysrange" href="/samepage?dateRange=365days">Last 365 days</a></li>
                                        <li><a id="customrange" href="javascript:void(0)">Custom</a></li>   
                                    </ul>
                                </nav>
                            </div>

                            <div class="form-group custom-date-range" id="dateRangeFields">
                            <fieldset>
                                <div class="form-group">
                                    <fieldset>
                                        <legend class="form-label" style="font-weight: bold;">From</legend>
                                        <div class="date-group">
                                            <div class="form-group form-group-day">
                                                <label for="dateFromDay">Day</label>
                                                <input type="text" name="dateFromDay" class="form-control"  maxlength="2" value="">            
                                            </div>
                                            <div class="form-group form-group-month">
                                                <label for="dateFromMonth">Month</label>
                                                <input type="text" name="dateFromMonth" class="form-control"  maxlength="2" value="">            
                                            </div>
                                            <div class="form-group form-group-year">
                                                <label for="dateFromYear">Year</label>
                                                <input type="text" name="dateFromYear" class="form-control"  maxlength="4" value="">
                                            </div>
                                        </div>
                                    </fieldset>
                                </div>
                                <div class="form-group">
                                    <fieldset>
                                        <legend class="form-label" style="font-weight: bold;">To</legend>
                                        <div class="date-group">
                                            <div class="form-group form-group-day">
                                                <label for="dateToDay">Day</label>
                                                <input type="text" name="dateToDay" class="form-control"  maxlength="2" value="">
                                            </div>
                                            <div class="form-group form-group-month">
                                                <label for="dateToMonth">Month</label>
                                                <input type="text" name="dateToMonth" class="form-control"  maxlength="2" value="">
                                            </div>
                                            <div class="form-group form-group-year">
                                                <label for="dateToYear">Year</label>
                                                <input type="text" name="dateToYear" class="form-control"  maxlength="4" value="">
                                            </div>
                                        </div>
                                    </fieldset>
                                </div>        
                                <input type="submit" name="submit" class="btn btn-primary" value="Apply">
                            </fieldset>
                            </div>
                        </div><!-- module-filters -->   

                        <a href="link-to-screen-where-user-choses-PDF-or-CSV-with-Download-button" id="download" class="btn btn-primary">Download report</a>
                    </form>
                </div>
                <div class="col-md-9 slot-usage-table">
                    <!-- initially this next line will be dynamically built by the  -->
                    <!-- back end - depending on the dateRange (default is 'Today') -->
                    <span id="resultsInfo"><strong>0</strong> tests logged <strong>today</strong></span>
                        
                    <div class="table-responsive">
                        <table class="table table-striped nowrap" id="listLogs" style="width: 100%">
                            <thead>
                                <tr>
                                    <th>Site ID</th>
                                    <th>Date/time</th>
                                    <th>VRM</th>
                                    <th>Make</th>
                                    <th>Model</th>
                                    <th>User ID</th>
                                    <th>Type</th>
                                    <th>Result</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="even">
                                    <td>V12345</td>
                                    <td>11 Nov 2014 12:37</td>
                                    <td>AB02CZE</td>
                                    <td title="Bedford">Bedford</td>
                                    <td title="Midi">Midi</td>
                                    <td>GRUM0004</td>
                                    <td title="Normal Test">Normal Test</td>
                                    <td>PASS</td>
                                </tr>
                                <tr class="odd">
                                    <td>V12345</td>
                                    <td>05 May 2014 10:59</td>
                                    <td>KLP99KL</td>
                                    <td title="General Motors">General Motors</td>
                                    <td title="Pontiac">Pontiac</td>
                                    <td>KING0022</td>
                                    <td title="Normal Test">Normal Test</td>
                                    <td>PASS</td>
                                </tr>
                                <tr class="even">
                                    <td>V12345</td>
                                    <td>13 May 2014 10:50</td>
                                    <td>GV06YZG</td>
                                    <td title="Honda">Honda</td>
                                    <td title="Civic">Civic</td>
                                    <td>KNIG0132</td>
                                    <td title="Normal Test">Normal Test</td>                                   
                                    <td>FAIL</td>
                                </tr>
                                <tr class="odd">
                                    <td>V12345</td>
                                    <td>03 May 2014 14:00</td>
                                    <td>WK05LRD</td>
                                    <td title="Lamborghini">Lamborghini</td>
                                    <td title="Murcielago LP670-4 Super Veloce">Murcielago LP670-4 Super Veloce</td>
                                    <td>KNIG0132</td>
                                    <td title="Normal Test">Normal Test</td>
                                    <td>PASS</td>
                                </tr>
                                <tr class="even">
                                    <td>V12345</td>
                                    <td>18 Mar 2014 10:00</td>
                                    <td>SL06BCY</td>
                                    <td title="Honda">Honda</td>
                                    <td title="Civic">Civic</td>
                                    <td>PGH0005</td>
                                    <td title="Normal Test">Normal Test</td>
                                    <td>PASS</td>
                                </tr>
                                <tr class="odd">
                                    <td>V12347</td>
                                    <td>26 Feb 2014 09:32</td>
                                    <td>BS06YZG</td>
                                    <td title="Land Rover">Land Rover</td>
                                    <td title="Defender 13">Defender 13</td>
                                    <td>DARB0031</td>
                                    <td title="Normal Test">Normal Test</td>
                                    <td>FAIL</td>
                                </tr>
                                <tr class="even">
                                    <td>V12346</td>
                                    <td>27 Feb 2014 14:31</td>
                                    <td>RH04YZG</td>
                                    <td title="Vauxhall">Vauxhall</td>
                                    <td title="Astra">Astra</td>
                                    <td>DARB0031</td>
                                    <td title="Retest">Retest</td>
                                    <td>FAIL</td>
                                </tr>
                                <tr class="odd">
                                    <td>V22245</td>
                                    <td>05 May 2013 10:59</td>
                                    <td>ZWP99KL</td>
                                    <td title="General Motors">General Motors</td>
                                    <td title="Pontiac">Pontiac</td>
                                    <td>SMIT0022</td>
                                    <td title="Normal Test">Normal Test</td>
                                    <td>PASS</td>
                                </tr>
                                <tr class="even">
                                    <td>V32345</td>
                                    <td>13 May 2013 15:50</td>
                                    <td>CC06YZG</td>
                                    <td title="Volkswagen">Volkswagen</td>
                                    <td title="Golf Plus">Golf Plus</td>
                                    <td>KNIG0132</td>
                                    <td title="Normal Test">Normal Test</td>                                   
                                    <td>FAIL</td>
                                </tr>
                                <tr class="odd">
                                    <td>V32345</td>
                                    <td>03 May 2013 13:00</td>
                                    <td>DA05LRD</td>
                                    <td title="Lamborghini">Lamborghini</td>
                                    <td title="Murcielago Roadster">Murcielago Roadster</td>
                                    <td>KNIG0132</td>
                                    <td title="Normal Test">Normal Test</td>
                                    <td>PASS</td>
                                </tr>
                                <tr class="even">
                                    <td>V12345</td>
                                    <td>13 Mar 2014 10:00</td>
                                    <td>SL06ABC</td>
                                    <td title="Tushingham">Tushingham</td>
                                    <td title="Velocerapta">Velocerapta</td>
                                    <td>KING0055</td>
                                    <td title="Normal Test">Normal Test</td>
                                    <td>PASS</td>
                                </tr>
                                <tr class="odd">
                                    <td>V33347</td>
                                    <td>26 Feb 2014 15:32</td>
                                    <td>BS06YZG</td>
                                    <td title="Land Rover">Land Rover</td>
                                    <td title="Defender">Defender</td>
                                    <td>DARB0031</td>
                                    <td title="Normal Test">Normal Test</td>
                                    <td>FAIL</td>
                                </tr>
                                <tr class="even">
                                    <td>V22346</td>
                                    <td>27 Jan 2014 14:31</td>
                                    <td>NAH64M</td>
                                    <td title="Vauxhall">Vauxhall</td>
                                    <td title="Victor FE">Victor FE</td>
                                    <td>DARB0031</td>
                                    <td title="Retest">Retest</td>
                                    <td>FAIL</td>
                                </tr>
                                <tr class="odd">
                                    <td>V32345</td>
                                    <td>05 May 2014 10:59</td>
                                    <td>KLP99KL</td>
                                    <td title="General Motors">General Motors</td>
                                    <td title="Pontiac">Pontiac</td>
                                    <td>OSBO0022</td>
                                    <td title="Normal Test">Normal Test</td>
                                    <td>PASS</td>
                                </tr>
                                <tr class="even">
                                    <td>V22345</td>
                                    <td>13 May 2014 10:50</td>
                                    <td>VF06YZG</td>
                                    <td title="Honda">Honda</td>
                                    <td title="Civic">Civic</td>
                                    <td>KNIG0132</td>
                                    <td title="Normal Test">Normal Test</td>                                  
                                    <td>FAIL</td>
                                </tr>
                                <tr class="odd">
                                    <td>V12345</td>
                                    <td>03 May 2014 14:00</td>
                                    <td>WK05LRD</td>
                                    <td title="Lamborghini">Lamborghini</td>
                                    <td title="Murcielago LP670-4 Super Veloce">Murcielago LP670-4 Super Veloce</td>
                                    <td>KNIG0132</td>
                                    <td title="Normal Test">Normal Test</td>
                                    <td>PASS</td>
                                </tr>
                                <tr class="even">
                                    <td>V22345</td>
                                    <td>18 Mar 2014 10:00</td>
                                    <td>SL06BCY</td>
                                    <td title="Honda">Honda</td>
                                    <td title="Civic">Civic</td>
                                    <td>PGH0005</td>
                                    <td title="Normal Test">Normal Test</td>
                                    <td>PASS</td>
                                </tr>
                                <tr class="odd">
                                    <td>V12347</td>
                                    <td>26 Feb 2014 09:32</td>
                                    <td>BS06YZG</td>
                                    <td title="Land Rover">Land Rover</td>
                                    <td title="Defender 13">Defender 13</td>
                                    <td>DARB0031</td>
                                    <td title="Normal Test">Normal Test</td>
                                    <td>FAIL</td>
                                </tr>
                                <tr class="even">
                                    <td>V32346</td>
                                    <td>28 Feb 2014 14:31</td>
                                    <td>ZT02CZE</td>
                                    <td title="Vauxhall">Vauxhall</td>
                                    <td title="Corsa">Corsa</td>
                                    <td>DARB0031</td>
                                    <td title="Retest">Retest</td>
                                    <td>FAIL</td>
                                </tr>
                                <tr class="odd">
                                    <td>V22245</td>
                                    <td>05 May 2013 10:59</td>
                                    <td>ZWP99KL</td>
                                    <td title="General Motors">General Motors</td>
                                    <td title="Pontiac">Pontiac</td>
                                    <td>SMIT0022</td>
                                    <td title="Normal Test">Normal Test</td>
                                    <td>PASS</td>
                                </tr>
                                <tr class="even">
                                    <td>V32345</td>
                                    <td>13 May 2013 15:50</td>
                                    <td>DC06YZG</td>
                                    <td title="Volkswagen">Volkswagen</td>
                                    <td title="Passat Estate">Passat Estate</td>
                                    <td>KNIG0132</td>
                                    <td title="Normal Test">Normal Test</td>                                  
                                    <td>FAIL</td>
                                </tr>
                                <tr class="odd">
                                    <td>V32345</td>
                                    <td>12 May 2013 14:02</td>
                                    <td>DA05LRD</td>
                                    <td title="Lamborghini">Lamborghini</td>
                                    <td title="Murcielago Roadster">Murcielago Roadster</td>
                                    <td>KNIG0132</td>
                                    <td title="Normal Test">Normal Test</td>
                                    <td>PASS</td>
                                </tr>
                                <tr class="even">
                                    <td>V12345</td>
                                    <td>18 Mar 2014 10:00</td>
                                    <td>SL06BCY</td>
                                    <td title="Honda">Honda</td>
                                    <td title="Civic">Civic</td>
                                    <td>PHIL0005</td>
                                    <td title="Normal Test">Normal Test</td>
                                    <td>PASS</td>
                                </tr>
                                <tr class="odd">
                                    <td>V33347</td>
                                    <td>26 Feb 2014 15:32</td>
                                    <td>BS06YZG</td>
                                    <td title="Land Rover">Land Rover</td>
                                    <td title="Defender 13">Defender 13</td>
                                    <td>DARB0031</td>
                                    <td title="Normal Test">Normal Test</td>
                                    <td>FAIL</td>
                                </tr>
                                <tr class="even">
                                    <td>V22346</td>
                                    <td>27 Feb 2014 14:31</td>
                                    <td>RH04YZG</td>
                                    <td title="Vauxhall">Vauxhall</td>
                                    <td title="Astra">Astra</td>
                                    <td>DARB0031</td>
                                    <td title="Retest">Retest</td>
                                    <td>FAIL</td>
                                </tr>
                                <tr class="odd">
                                    <td>V33347</td>
                                    <td>28 Jan 2013 14:32</td>
                                    <td>BS06YZG</td>
                                    <td title="Land Rover">Land Rover</td>
                                    <td title="Defender 13">Defender 13</td>
                                    <td>DARB0031</td>
                                    <td title="Normal Test">Normal Test</td>
                                    <td>FAIL</td>
                                </tr>
                                <tr class="even">
                                    <td>V22346</td>
                                    <td>25 Feb 2013 13:31</td>
                                    <td>RH04YZG</td>
                                    <td title="Vauxhall">Vauxhall</td>
                                    <td title="Astra">Astra</td>
                                    <td>DARB0031</td>
                                    <td title="Retest">Retest</td>
                                    <td>FAIL</td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="pagination-wrapper">
                            <div class="page-results-control pull-left">Show: 
                                <!-- if javascript enabled then remove the href attributes (below) -->
                                <a id="length10" href="/samepage?pageLength=10">10</a> 
                                <a id="length25" href="/samepage?pageLength=25">25</a> 
                                <a id="length50" href="/samepage?pageLength=50">50</a> 
                                results per page 
                            </div>
                            <!-- Provide very basic pagination if no javascript. Will need 
                            to use current pageLength parameter to work out the data offset -->
                            <noscript>
                                <div class="pagination-control pull-right"> 
                                    <a href="/samepage?page=previous">Previous</a>  
                                    <a href="/samepage?page=next">Next</a> 
                                </div>
                            </noscript>
                        </div>  
                    </div> 
                </div>
            </div>
        </div>
    </div>
</div>
<!-- /container -->
<footer role="contentinfo" id="footer" class="module-global-footer">
  <div class="container">
    <div class="row">
      <div class="col-sm-9 global-footer_meta">
        <nav class="global-footer_navigation">
          <ul>
            <li>Built by the Driver &amp; Vehicle Standards Agency</li>
          </ul>
        </nav>
        <p class="global-footer_licence"><a class="licence-logo" href="http://www.nationalarchives.gov.uk/doc/open-government-licence/version/2">Open Government Licence</a> All content is available under the <a href="http://www.nationalarchives.gov.uk/doc/open-government-licence/version/2">Open Government Licence v2.0</a>, except where otherwise stated</p>
      </div>
      <div class="col-sm-3 global-footer_copyright">
        <a href="http://www.nationalarchives.gov.uk/information-management/our-services/crown-copyright.htm">&copy; Crown copyright</a>
      </div>
    </div>
  </div>
</footer>

<script type="text/javascript">
$(document).ready(function () {

    // Set up DataTables. ElasticSearch recommended
    // Logs can be very large so do processing server-side (unlike this mock-up)
    var $eListLs = $('#listLogs'),
        oTable = $eListLs.dataTable({
            "bPaginate": true,
            "bLengthChange": true,
            "bFilter": true,
            "bSort": true,
            "aaSorting": [
                [ 1, "desc" ]
            ],
            "bInfo": false,
            "bAutoWidth": true,
            "oLanguage": {"sSearch": "Filter:",
                          "sLengthMenu": "Show _MENU_ results per page"},
            "lengthMenu": [[10, 25, 50], [10, 25, 50]],
            "dom": '<"top"if>rt<"bottom"lp><"clear">',
            "bProcessing": false,
            "bServerSide": false,
            "bDeferRender": true,
            "aoColumnDefs": [
                {
                    "sClass": "truncate",
                    "aTargets": [3,4,6,7]
                }
            ]
        });

    $('#listLogs_filter').find("input").addClass("form-control");
    $eListLs.find("thead").attr("style", "background-color:#DEE0E2;");


    //--------------------------------------------------------------------------------------
    // This section is a raft of changes purely to look more like the Slot Usage screen
    // Ideally needs javascript enabled but it also degrades gracefully for non-Javascript cases. 
    //--------------------------------------------------------------------------------------

    // Hide the datatables filter in the default position - with Javascript enabled, we'll feed
    // it with another one called '#searchbox' so that we can position it where we want.
    $('.dataTables_filter').hide();

    // Feed the hidden dataTables search/filter box from a custom one (left-hand side).
    $("#searchbox").keyup(function() {
        oTable.fnFilter(this.value);
    });   

    // Hide the dataTables page-length selecter dropdown - and feed it with  
    // a horizontal link list (to look more like the Slot Usage screen)
    length_selector = $('.dataTables_length select');
    length_selector_label = $('.dataTables_length label');
    $(length_selector_label).hide(); 
    $(".page-results-control a").click(function() {
        $(length_selector).val(this.text);
        $(length_selector).trigger('change');
        // Then get the current table page length, and do something like this:
        var currentPageLength = $(length_selector).find(":selected").text();
        // first reset all apparently disabled links then make one of links look like its disabled
        $('.page-results-control a').removeClass("item-link-disabled");
        //var selectorPageLength = "a#length"+currentPageLength;
        $('a#length'+currentPageLength).addClass("item-link-disabled");
    });   
    // Lastly, remove the href link attributes if we have javascript
    $(".page-results-control a").removeAttr("href"); 

    // Hide the dateRangeFields in the case that we have Javascript
    var dateRangeFields = $('#dateRangeFields');
    dateRangeFields.hide();

    // Set up toggle visibility of dateRangeFields
    $('#customrange').click(function() {
        if (dateRangeFields.is(":visible")) {
            dateRangeFields.hide('slow');
        } else {
            dateRangeFields.show('slow');
        }
    });

    // Remove the link (and make bold) the current dateRange in use
    // First get the dateRange parameter from the queryString and do something like
    // if dateRange was 'Today' and there were 27 test logs found (for example)...
    $('#resultsInfo').html("<strong>27</strong> tests logged <strong>today</strong>");
    // Then set the selected Date Range Nav Filter (LHS) to be bold and not look like a link
    $('#todayrange').addClass("item-bold-link-disabled");
    // Then get the current table page length, and make one of links look like its disabled
    var currentPageLength = $(length_selector).find(":selected").text();
    $('a#length'+currentPageLength).addClass("item-link-disabled");

    // Obviously there's more faffing about needed here - but you get the general gist
    
});
</script>
</body>
</html>
