

<!DOCTYPE html>

<html lang="en">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>MOT Modernisation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Le styles -->
    <link href="/css/bootstrap.min.css" media="screen" rel="stylesheet" type="text/css">
    <link href="/font-awesome-4.0.3/css/font-awesome.min.css" rel="stylesheet" >
    <link href="/img/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon">
    <link href="/css/enforcement.css" media="screen" rel="stylesheet" type="text/css">
    <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" media="screen" rel="stylesheet" type="text/css">    <!-- Scripts -->
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/js/jquery.autosize.min.js"></script>
    <!--[if lt IE 9]><script type="text/javascript" src="/js/html5.js"></script><![endif]-->
    <!--[if lt IE 9]><script type="text/javascript" src="/js/respond.min.js"></script><![endif]-->
    <script type="text/javascript" src="/js/jquery.validate.min.js"></script>
</head>
<body class="not-fixed">
    <div class="navbar">
        <div class="container">
            <h2><a href="/" style="color: #ffffff; text-decoration: none;">DVSA MOT</a></h2>
        </div>
    </div>

    <div class="container">
        <!-- TODO PT: Should displayed data be driven by identity roles (as it is now) or by URLs?
Remove all user-details partials (probably, check with Testing and Enforcement); remove user details return from all the controller that do it; apply one styling;
-->


    <div class="row">
        <div class="col-lg-12 user-banner" id="user-info">
            <p>
                <strong>Nigel Sedgwick</strong>
                Vehicle Examiner
                            </p>

            <div class="pull-right" style="text-decoration: none; height: 30px; line-height: 35px;">
                <!-- TODO: style="..." below is a temporary solution. Styles are to be moved into proper css file. -->
                <strong style="padding-right: 1em">
                    <a href="/logout" id="logout">Sign out</a>
                </strong>

                <a href="/">Homepage</a>
            </div>

        </div>
    </div>
        
<div class="row">
    <div class="col-lg-12">
        <h1>Record Results of Demonstration Test</h1>
    </div>
</div>
<div id="validation-summary-id" class="validation-summary"
     style="display:none;">

    
    <ol>
        </ol>
</div>

<h4>Mot Test Number</h4>

<div class="row">
    <div class="col-sm-4 test-search-panel">
        <div class="row">
            <div class="col-sm-12">
    <form id="mot-demo-test-search" method="GET">

        <input type="text" id="test-search" name="test-id" value="" class="form-control "/><button name="test-item-selector-btn-search" id="test-item-selector-btn-search" value="" type="submit" class="test-search">Find</button>    </form>
</div>        </div>
    </div>

        <div class="col-sm-4 col-sm-offset-2">
        <dl id="testerId"  class="greyedout">
            <dt>Tester Id</dt>
            <dd id="testerId"></dd>
        </dl>
        <dl id="testerName"  class="greyedout">
            <dt>Tester name</dt>
            <dd id="testerName"></dd>
        </dl>
    </div>
</div>


<span class="divider"></span>

<form id="mot-demo-test-result" class="form-inline" method="POST">

    <input type="hidden" id="" name="test-id" value="" class="form-control "/><input type="hidden" id="" name="tester-id" value="" class="form-control "/>
    <div class="row">
        <div class="col-sm-8">
            <dl>
                <label for="test-type">
                    <dt>Test Type</dt>
                </label>
                <dd>
                    <SELECT id="test-type-id" name="test-type-id" class="form-control input-small   " disabled="disabled"><OPTION id="test-type-id_" value="" selected>Please select</OPTION></SELECT>                </dd>
            </dl>
            <dl>
                <label for="test-result">
                    <dt>Test result</dt>
                </label>
                <dd>
                    <SELECT id="test-result-id" name="test-result-id" class="form-control input-small   " disabled="disabled"><OPTION id="test-result-id_" value="" selected>Please select</OPTION></SELECT>                </dd>
            </dl>
            <dl>
                <label for="tester-status">
                    <dt>Revised Tester status</dt>
                </label>
                <dd>
                    <SELECT id="tester-status-id" name="tester-status-id" class="form-control input-small   " disabled="disabled"><OPTION id="tester-status-id_" value="" selected>Please select</OPTION></SELECT>                </dd>
            </dl>
        </div>
    </div>

    <span class="divider"></span>

    <div class="row">
        <div class="col-sm-6">
            <fieldset>
                <label class="block-label js-enabled disabled " for="class-new[TESTER-CLASS-1]">
                <input type="checkbox" value="TESTER-CLASS-1" id="class-new[TESTER-CLASS-1]" name="class-new[]" disabled="disabled" >Approved Tester Class 1</label>
                <label class="block-label js-enabled disabled " for="class-new[TESTER-CLASS-2]">
                <input type="checkbox" value="TESTER-CLASS-2" id="class-new[TESTER-CLASS-2]" name="class-new[]" disabled="disabled" >Approved Tester Class 2</label>
                <label class="block-label js-enabled disabled " for="class-new[TESTER-CLASS-3]">
                <input type="checkbox" value="TESTER-CLASS-3" id="class-new[TESTER-CLASS-3]" name="class-new[]" disabled="disabled" >Approved Tester Class 3</label><label class="block-label js-enabled disabled " for="class-new[TESTER-CLASS-4]">
                <input type="checkbox" value="TESTER-CLASS-4" id="class-new[TESTER-CLASS-4]" name="class-new[]" disabled="disabled" >Approved Tester Class 4</label><label class="block-label js-enabled disabled " for="class-new[TESTER-CLASS-5]">
                <input type="checkbox" value="TESTER-CLASS-5" id="class-new[TESTER-CLASS-5]" name="class-new[]" disabled="disabled" >Approved Tester Class 5</label><label class="block-label js-enabled disabled " for="class-new[TESTER-CLASS-7]">
                <input type="checkbox" value="TESTER-CLASS-7" id="class-new[TESTER-CLASS-7]" name="class-new[]" disabled="disabled" >Approved Tester Class 7</label>
            </fieldset>
        </div>
    </div>

    <span class="divider"></span>

    <div class="row">
        <div class="col-sm-12">
            <dl>
                <label for="comment">
                    <dt>Referral reason (optional)</dt>
                </label>
                <dd>
                    <textarea id="comment" name="comment" class="form-control " style="overflow: hidden; word-wrap: break-word; resize: none; height: 179px;" disabled="disabled" cols="100" rows="7"></textarea>                </dd>
            </dl>

        </div>
    </div>


    <div class="row">
        <div class="col-sm-2">
            <button name="submit_record_results_button" id="submit_record_results_button" value="" type="submit" class="btn btn-primary" disabled>Record Results</button>        </div>
        <div class="col-sm-4">
            <a href="/">Return to Homepage</a>
        </div>
    </div>

</form>


<script type="text/javascript">
    /* <![CDATA[ */
    $(document).ready(function () {
        $('textarea').autosize();

        //  --  change style on check   --
        $('.form-inline')
            .on("click", ".block-label input", function () {
                $(this).parent().toggleClass('selected', this.checked);
            })
            .on("focus blur", ".block-label input", function () {
                $(this).parent().toggleClass("add-focus", $(this).is(":focus"));
            });


        //  --  validation  --
        (function () {
            var $errBox = $('#validation-summary-id'),
                $errCntr = $errBox.find('ol');

            function showFieldError($fldElm, mssg, isError) {
                var fldId = $fldElm.attr('id'),
                    $fldErrElm = $fldElm.parent().find('.validation-message'),
                    fldErrId = 'error-' + fldId;

                if (isError) {
                    if ($fldErrElm.length > 0) {
                        return;
                    }

                    //  --   add error beside field --
                    $('<span>')
                        .attr('id', fldErrId)
                        .addClass('validation-message')
                        .text(mssg)
                        .insertAfter($fldElm);

                    //  --  add error item to list in box    --
                    $('<li>')
                        .appendTo($errCntr)
                        .append(
                            $('<a>')
                                .attr('href', '#' + fldErrId)
                                .text(mssg)
                        );

                    //  --  mark field  --
                    $fldElm.addClass('inputError');

                } else {
                    //  --  remove error item from list --
                    $errCntr.find('a[href="#' + fldErrId + '"]').parent().remove();

                    //  --  remove error beside field   --
                    $fldErrElm.remove();

                    //  --  unmark field  --
                    $fldElm.removeClass('inputError');
                }
            }

            $.validator.addMethod(
                "valueNotEquals",
                function (value, element, arg) {
                    return arg != value;
                },
                "Value must not equal arg."
            );

            $("form#mot-demo-test-result").validate({
                rules: {
                    'test-type-id': {
                        required: true,
                        valueNotEquals: ''
                    },
                    'test-result-id': {
                        required: true,
                        valueNotEquals: ''
                    },
                    'tester-status-id': {
                        required: true,
                        valueNotEquals: ''
                    }
                },
                messages: {
                    'test-type-id': "Please specify test type",
                    'test-result-id': "Please specify test result",
                    'tester-status-id': "Please specify tester status"
                },
                showErrors: function (map, elms) {
                    if (elms.length > 0) {
                        for (var i = 0, n = elms.length; i < n; i++) {
                            var obj = elms[i],
                                $eFld = $(obj.element),
                                mssg = obj.message;

                            showFieldError($eFld, mssg, true);
                        }
                    } else {
                        showFieldError($(this.lastElement), null, false);
                    }

                    var isShowErrBox = ($errCntr.children().length != 0);
                    $errBox.toggle(isShowErrBox);
                }
            });

        })();
    });
    /* ]]> */

</script>    </div> <!-- /container -->
    </body>
</html>
