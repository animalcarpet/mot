<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>MOT Test History</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
   <!-- Le styles -->
    <link href="/css/bootstrap.min.css" media="screen" rel="stylesheet" type="text/css">
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
    <link href="/img/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon">
    <link href="/css/jquery.dataTables.css" media="screen" rel="stylesheet" type="text/css">
    <link href="/css/enforcement.css" media="screen" rel="stylesheet" type="text/css">    
    <!-- Scripts -->
    <script type="text/javascript" src="/js/libraries.min.js"></script>

    <!--[if lt IE 9]><script type="text/javascript" src="/js/lt.ie9.min.js"></script><![endif]-->
    <script type="text/javascript" src="/js/jquery.dataTables.min.js"></script>
</head>


<body class="not-fixed">
	<div class="navbar">
			<div class="container">
				<h2>DVSA MOT</h2>
			</div>
	</div>

	<div class="container">
		<div class="row">
			<div class="col-lg-12 user-banner">
			<!--will soon be div class="col-lg-12 user-banner" 		  -->	
				<p>
					<strong>Nigel Sedgwick</strong> - Vehicle Examiner                                                
				</p>		
			</div>
		</div>

		<div class="row">
		<!-- Note to PHP developers -- class names and id names liable to change -->
			<div class="col-sm-12">
		    <h1>MOT Test History</h1>
			<!-- Don't show these incase searching by VRM - where more than 1 vehicle may be found
				<h2><span class="small">Registration Mark</span> VK02 MOT</h2>
				<h2><span class="small">VIN/Chassis</span> WV1ZZZ8ZH6H091596</h2>
				<h3><span class="small">Make / Model / Colour</span> VW / Passat / Silver</h3>
			-->
			<h2>MOTs found for a VIN/Chassis search:</h2>
				<div class="info-notice">
                    <p>If these are <strong>not the right results</strong> you can <a href="/vtssearch.html">search <span class="visually-hidden">for another VRM/VIN</span> again</a></p>
				</div>
			</div>
		</div>
		<div class="row">
 			<div class="col-sm-4">
            	<button id="view" class="btn btn-primary btn-expand" data-toggle="collapse" data-target="#show-form">View Compare Tests Section<span class="fa fa-chevron-down chevron_toggleable"></span></button>
        	</div>
    	</div>
		
		<div class="show-hide-container" id="show-form">
			<div class="row">
				<form id="compareTests" method="GET">
		            <div class="col-sm-3">Add/click test numbers to compare...</div>
		            <div class="col-sm-1"><label for="comp1" >VE's&nbsp;test</label></div>
		            <div class="col-sm-2"><input type="text" id="comp1" value="" class="form-control" ></div>
		            <div class="col-sm-1"><i class="fa fa-exchange fa-2x" id="swap" title="Swap test numbers"></i></div>
		            <div class="col-sm-1"><label for="comp2">Tester's&nbsp;test</label></div>
		            <div class="col-sm-2"><input type="text" id="comp2" value="" class="form-control"></div>
		            <div class="col-sm-2"><input type="submit" value="Compare" class="btn btn-primary" id="compare"></div>
		        </form>
	        </div>
	    </div>
    	

		
        <div class="row">
            <div class="col-sm-12">
                <div class="table-responsive">
                    <table class="table table-striped nowrap" id="listMOTs" style="width: 100%">
                        <thead>
							<tr>
								<th>Test&nbsp;date/time</th>
								<th title="Test result">Result</th>
								<th title="Click to use in a Comparison">Test</th>
								<th>VIN/Chassis</th>
								<th>VRM</th>
								<th>MOT</th>
								<th>Make</th>
								<th>Model</th>
								<th>Test type</th>
								<th>VTS</th>
								<th>Tester ID</th>
							</tr>
						</thead>
						<tbody>
							<tr class="odd">
								<td>16 Jan 14 15:25</td>
								<td>Fail</td>
								<td><a href="javascript:void(0);" class="testNumber">T19159622</a></td>
								<td>WV1ZZZ8ZH6H091596</td>
								<td>VK02 MOT</td>
								<td><a href="MOTsummary.html?test=345660023204" title="View MOT Test Summary">View</a></td>
								<td title="Volkswagen">Volkswagen</td>
								<td title="Passat">Passat</td>
								<td>Normal</td>
								<td><a href="VTSsummary.html?vts=V12345" title="View VTS Summary">V12345</a></td>
								<td><a href="TesterSummary.html?id=SHEA0007" title="View Tester Summary">SHEA0007</a></td>
							</tr>
							<tr class="even">
								<td>13 Jan 14 13:51</td>
								<td>Fail</td>
								<td><a href="javascript:void(0);" class="testNumber">T23412928</a></td>
								<td>WV1ZZZ8ZH6H091596</td>
								<td>VK02 MOT</td>
								<td><a href="MOTsummary.html?test=345660023204" title="View MOT Test Summary">View</a></td>
								<td title="Volkswagen">Volkswagen</td>
								<td title="Passat">Passat</td>
								<td>Normal</td>
								<td><a href="VTSsummary.html?vts=V12300" title="View VTS Summary">V12300</a></td>
								<td><a href="TesterSummary.html?id=SHEA0007" title="View Tester Summary">SHEA0007</a></td>
							</tr>
							<tr class="odd">
								<td>12 Jan 14 11:04</td>
								<td>Fail</td>
								<td><a href="javascript:void(0);" class="testNumber">T26786728</a></td>
								<td>WV1ZZZ8ZH6H091596</td>
								<td>VK02 MOT</td>
								<td><a href="MOTsummary.html?test=123430204199" title="View MOT Test Summary">View</a></td>
								<td title="Volkswagen">Volkswagen</td>
								<td title="Passat">Passat</td>
								<td>Normal</td>
								<td><a href="VTSsummary.html?vts=V22012" title="View VTS Summary">V22012</a></td>
								<td><a href="TesterSummary.html?id=SHEA0007" title="View Tester Summary">SHEA0007</a></td>
							</tr>
							<tr class="even">
								<td>13 Jan 13 09:30</td>
								<td>Pass</td>
								<td><a href="javascript:void(0);" class="testNumber">T98765432</a></td>
								<td>WV1ZZZ8ZH6H091596</td>
								<td>VK02 MOT</td>
								<td><a href="MOTsummary.html?test=555870205032" title="View MOT Test Summary">View</a></td>
								<td title="Volkswagen">Volkswagen</td>
								<td title="Passat">Passat</td>
								<td>Normal</td>
								<td><a href="VTSsummary.html?vts=V33012" title="View VTS Summary">V33012</a></td>
								<td><a href="TesterSummary.html?id=SMIT0123" title="View Tester Summary">SMIT0123</a></td>
							</tr>
							<tr class="odd">
								<td>15 Jan 12 15:20</td>
								<td>Pass</td>
								<td><a href="javascript:void(0);" class="testNumber">T33445566</a></td>
								<td>WV1ZZZ8ZH6H091596</td>
								<td>VK02 MOT</td>
								<td><a href="MOTsummary.html?test=333870205444" title="View MOT Test Summary">View</a></td>
								<td title="Volkswagen">Volkswagen</td>
								<td title="Passat">Passat</td>
								<td>Normal</td>
								<td><a href="VTSsummary.html?vts=V53302" title="View VTS Summary">V53302</a></td>
								<td><a href="TesterSummary.html?id=SHIP3210" title="View Tester Summary">SHIP3210</a></td>
							</tr>
							<tr class="even">
								<td>15 Jan 11 11:15</td>
								<td>Pass</td>
								<td><a href="javascript:void(0);" class="testNumber">T44665577</a></td>
								<td>WV1ZZZ8ZH6H091596</td>
								<td>VK02 MOT</td>
								<td><a href="MOTsummary.html?test=133870205441" title="View MOT Test Summary">View</a></td>
								<td title="Volkswagen">Volkswagen</td>
								<td title="Passat">Passat</td>
								<td title="Partial Retest. Repaired at VTS">Partial Retest. Repaired at VTS</td>
								<td><a href="VTSsummary.html?vts=V13302" title="View VTS Summary">V13302</a></td>
								<td><a href="TesterSummary.html?id=SIPO8888" title="View Tester Summary">SIPO8888</a></td>
							</tr>
						 	<tr class="odd">
								<td>04 Jan 10 12:15</td>
								<td>Pass</td>
								<td><a href="javascript:void(0);" class="testNumber">T23423444</a></td>
								<td>WV1ZZZ8ZH6H091596</td>
								<td>FRED 1</td>								
								<td><a href="MOTsummary.html?test=221270205221" title="View MOT Test Summary">View</a></td>
								<td title="Volkswagen">Volkswagen</td>
								<td title="Passat">Passat</td>
								<td title="Partial Retest. Repaired at VTS">Partial Retest. Repaired at VTS</td>
								<td><a href="VTSsummary.html?vts=V88302" title="View VTS Summary">V88302</a></td>
								<td><a href="TesterSummary.html?id=SEDG2345" title="View Tester Summary">SEDG2345</a></td>
							</tr>
							<tr class="even">
								<td>03 Jan 10 11:15</td>
								<td>Fail</td>
								<td><a href="javascript:void(0);" class="testNumber">T55556666</a></td>
								<td>WV1ZZZ8ZH6H091596</td>
								<td>FRED 1</td>
								<td><a href="MOTsummary.html?test=133870205441" title="View MOT Test Summary">View</a></td>
								<td title="Volkswagen">Volkswagen</td>
								<td title="Passat">Passat</td>
								<td title="Partial Retest. Repaired at VTS">Partial Retest. Repaired at VTS</td>
								<td><a href="VTSsummary.html?vts=V13302" title="View VTS Summary">V13302</a></td>
								<td><a href="TesterSummary.html?id=SIPO8888" title="View Tester Summary">JONO8888</a></td>
							</tr>
						 	<tr class="odd">
								<td>02 Jan 10 14:15</td>
								<td>Fail</td>
								<td><a href="javascript:void(0);" class="testNumber">T09889009</a></td>
								<td>WV1ZZZ8ZH6H091596</td>
								<td>FRED 1</td>
								<td><a href="MOTsummary.html?test=221270205221" title="View MOT Test Summary">View</a></td>
								<td title="Volkswagen">Volkswagen</td>
								<td title="Passat">Passat</td>
								<td title="Partial Retest. Repaired at VTS">Partial Retest. Repaired at VTS</td>
								<td><a href="VTSsummary.html?vts=V88302" title="View VTS Summary">V88302</a></td>
								<td><a href="TesterSummary.html?id=SEDG2345" title="View Tester Summary">JONO8888</a></td>
							</tr>
							<tr class="even">
								<td>22 Dec 09 08:45</td>
								<td>Fail</td>
								<td><a href="javascript:void(0);" class="testNumber">T88776655</a></td>
								<td>WV1ZZZ8ZH6H091596</td>
								<td>FRED 1</td>
								<td><a href="MOTsummary.html?test=133870205441" title="View MOT Test Summary">View</a></td>
								<td title="Volkswagen">Volkswagen</td>
								<td title="Passat">Passat</td>
								<td title="Partial Retest. Repaired at VTS">Partial Retest. Repaired at VTS</td>
								<td><a href="VTSsummary.html?vts=V13302" title="View VTS Summary">V13302</a></td>
								<td><a href="TesterSummary.html?id=SIPO8888" title="View Tester Summary">JONO8888</a></td>
							</tr>
						 	<tr class="odd">
								<td>21 Dec 09 12:15</td>
								<td>Fail</td>
								<td><a href="javascript:void(0);" class="testNumber">T66563463</a></td>
								<td>WV1ZZZ8ZH6H091596</td>
								<td>FRED 1</td>
								<td><a href="MOTsummary.html?test=221270205221" title="View MOT Test Summary">View</a></td>
								<td title="Volkswagen">Volkswagen</td>
								<td title="Passat">Passat</td>
								<td title="Partial Retest. Repaired at VTS">Partial Retest. Repaired at VTS</td>
								<td><a href="VTSsummary.html?vts=V88302" title="View VTS Summary">V88302</a></td>
								<td><a href="TesterSummary.html?id=SEDG2345" title="View Tester Summary">JONO8888</a></td>
							</tr>
						</tbody>
					</table>
				</div>    
			</div>
            
        </div>
		
        
<script type="text/javascript">
/* LOG  - Used to make console logging cross browser  */
function log(display) {
	if (typeof window.console !== 'undefined') {console.log(display); }
}

$(document).ready(function() {

  $('.show-hide-container').addClass('collapse');

  $('#listMOTs').dataTable({  // Info: http://datatables.net/release-datatables/examples/basic_init/filter_only.html
        "bPaginate": true,					    // Pagination
        "bLengthChange": true,			        // Ability to change the number of rows
        "bFilter": true,						// Enable filtering
        "bAutoWidth": true,
        "bSort": true,							// Enable sorting
		"aaSorting": [[ 0, "desc" ]],           // Sort descending by the 1st column (date/time)
        "bInfo": true,							// Suppress the "Showing X to Y of N entries" footer
        "aoColumnDefs": [{						// Set a 'truncate' width class on some columns
            "sClass": "truncate",
            "aTargets": [6,7,8]
        }],
		"oLanguage": {"sSearch":"Filter:"}      // Rename the Search label 
    });
    
    $('#listMOTs_filter').find("input").addClass( "form-control" );
    $('#listMOTs').find("thead").attr("style","background-color:#DEE0E2;");

	// Click Test Number to add primary and secondary Tests to Comp1 & Comp2 fields...
	// TODO - Bug when clicking numbers on Next page of table results... 
	$('.testNumber').on('click',function () { 
		log("here "+$(this).text());
		if ($('#comp1').val() == "") {
			log ("empty");
			$('#comp1').val($(this).text());
		} else {
			log ("not empty");
			$('#comp2').val($(this).text());
		}
	})

	// Clicking Swap symbol swaps primary and secondary Comp1 & Comp2 fields...
	$('#swap').on('click',function () { 
		log("Swap clicked");
		var tempStore = $('#comp1').val();
		$('#comp1').val($('#comp2').val());
		$('#comp2').val(tempStore);
	})

	$( ".testNumber" ).each(function( index ) {
  		$(this).attr('title','Click to use in a Comparison');
	});

});

$('.btn-expand').click(function() {
        $(this).find('.chevron_toggleable').toggleClass('fa-chevron-up fa-chevron-down');
});
</script>

	</div> <!-- /container -->
</body>
</html>
