!contents -R2 -g -p -f -h
'''In order to conduct a test as a Tester I want \ need capture all lighting defects to ensure a test fail'''

!|GenerateTestDataForOtherFitnesseTests                |
|vehicleExaminerUsername?  |siteId?  |testerUsername?  |
|$vehicleExaminerUsername1=|$siteId1=|$testerUsername1=|
|$vehicleExaminerUsername2=|         |$testerUsername2=|

Retrieve details about Test Item Selector.

!| Vm 61 Test Rfrs Are Returned|$testerUsername1       |$siteId1                                                                                      |
|Category Id                   |Info about Test        |Name?                           |One category up ?                         |Two categories up?|
|0                             |Root rfr category      |RFR Home                        |                                          |                  |
|511                           |Test specified category|Battery                         |Lamps, Reflectors and Electrical Equipment|RFR Home          |
|999                           |No such category       |Test Item Selector 999 not found|Error                                     |Error             |

'''In order to conduct a test as a Tester I need capture all lighting defects to ensure a test fail'''

!***< Hidden

*!
Add an RFR to MOT Test. TODO add cases for when RFR is not valid for MOT Test

!| Vm 61 Mot Test Add Rfr|$siteId1        |$vehicleExaminerUsername1                                                                                                                                              |
|New/Aborted             |Current user    |Test started by |Info about Mot test            |rfrId|testItemSelectorId|type|Info about Rfr     |success?|error messages?                                           |
|NEW                     |$testerUsername1|$testerUsername1|test exists and user can access|757  |5026              |FAIL|exists and is valid|true    |                                                          |
|NEW                     |$testerUsername1|$testerUsername1|test exists and user can access|757  |5026              |PRS |exists and is valid|true    |                                                          |
|NEW                     |$testerUsername2|$testerUsername1|adding rfr as another user     |5026 |FAIL              |FAIL|exists and is valid|false   |Forbidden                                                 |
|NEW                     |$testerUsername1|$testerUsername1|test exists and user can access|8566 |5800              |FAIL|exists and is valid|false   |Forbidden                                                 |
|ABORTED                 |$testerUsername1|$testerUsername1|VE aborted test                |5026 |FAIL              |FAIL|exists and is valid|false   |This test has been aborted by DVSA and cannot be continued|

'''In order to conduct a test as a Tester I want \ need to search lighting defects to allow test failures to be entered'''

!***< Hidden

*!
Search RFRs

!| Vm 302 Mot Test Rfr Search|$testerUsername1                            |$siteId1     |
|searchString                |Info about Search String                    |foundResults?|
|7002                        |A full RFR ID that exists                   |true         |
|706                         |A partial RFR ID that exists                |true         |
|99999                       |A full RFR ID that does not exist           |false        |
|999                         |A partial RFR ID that does not exist        |false        |
|1.1.A.3f                    |A full manual ref that exists               |true         |
|1.1.A                       |A partial manual ref that exists            |true         |
|9.9.9f                      |A full manual ref that does not exist       |false        |
|9.9.9                       |A partial manual ref that does not exist    |false        |
|incorrectly positioned      |A full Failure Text that exists             |true         |
|incorrectly                 |A partial Failure Text that exists          |true         |
|exploding wildly            |A full Failure Text that does not exist     |false        |
|exploding                   |A partial Failure Text that does not exist  |false        |
|Stop lamp                   |A full Test Item Name that exists           |true         |
|Stop                        |A partial Test Item Name that exists        |true         |
|Rocket Jetpack              |A full Test Item Name that does not exist   |false        |
|Rocket                      |A partial Test Item Name that does not exist|false        |

'''In order to ensure test results are accurate, as a tester I require the ability to remove RFR's'''

!***< Hidden

*!
Validate that an Reason For Rejection can be removed and does not impact other Reasons For Rejection associated with the MOT Test.

!| Vm 1128 Remove Reason For Rejection|$siteId1        |$vehicleExaminerUsername2                                                                                |
|New/Aborted                          |Current user    |Test started by |RFR ID to be removed|success?|error messages?                                           |
|ABORTED                              |$testerUsername1|$testerUsername1|508                 |false   |This test has been aborted by DVSA and cannot be continued|
|NEW                                  |$testerUsername1|$testerUsername1|515                 |true    |                                                          |
|NEW                                  |$testerUsername1|$testerUsername1|516                 |true    |                                                          |
|NEW                                  |$testerUsername1|$testerUsername1|545                 |true    |                                                          |
|NEW                                  |$testerUsername2|$testerUsername1|599                 |false   |                                                          |
