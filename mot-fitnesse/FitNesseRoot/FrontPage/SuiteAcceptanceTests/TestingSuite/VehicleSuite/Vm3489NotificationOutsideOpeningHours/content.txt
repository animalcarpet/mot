!contents -R2 -g -p -f -h
'''As a Site Manager or if not defined, AEDM, I want to receive notifications whenever a test is conducted (FAILED OR PASSED) outside site opening hours'''

! Generate Site with Site Manager and AEDM
!| GenerateTestDataForOtherFitnesseTests                                               |
|orgId?  |aedmUsername?|siteId?  |siteMngrUsername?|testerUsername?|areaOfficeUsername?|
|$orgId1=|$aedm1=      |$siteId1=|$sm1=            |$tester1=      |$areaOfficeAtOrg1= |

! Generate Site with AEDM but without Site Manager X 2

!| GenerateTestDataForOtherFitnesseTests                             |
|orgId?  |aedmUsername?|siteId?  |testerUsername?|areaOfficeUsername?|
|$orgId2=|$aedm2=      |$siteId2=|$tester2=      |$areaOfficeAtOrg2= |
|$orgId3=|$aedm3=      |$siteId3=|$tester3=      |$areaOfficeAtOrg3= |

!| GenerateVtsOpeningHours   |
|siteId  |aedmUsername|isOpen|
|$siteId1|$aedm1      |false |
|$siteId2|$aedm2      |false |
|$siteId3|$aedm3      |true  |

!| GenerateTestDataForOtherFitnesseTests        |
|testerUsername|siteId  |status|motTestNumber?  |
|$tester1      |$siteId1|PASSED|$motTestNumber1=|
|$tester2      |$siteId2|PASSED|$motTestNumber2=|
|$tester3      |$siteId3|FAILED|$motTestNumber3=|

!| Vm 3489 Notification On Test Outside Opening Hours|
|AreaOffice         |Username  |Site Id  |Sent? |Recipient |
|$areaOfficeAtOrg1  |$tester1  |$siteId1 |Y     |$sm1      |
|$areaOfficeAtOrg2  |$tester2  |$siteId2 |Y     |$aedm2    |
|$areaOfficeAtOrg3  |$tester3  |$siteId3 |N     |$aedm3    |
