!contents -R2 -g -p -f -h!contents -R2 -g -p -f -h
'''In order to notify applicable users, as DVSA we require the ability to write a special notice to a determined audience'''

!***< Hidden

*!
!| Date intervals for other tests    |
|DaysInterval|In Future|DateVariable?|
|20          |true     |$plusTwenty= |
|20          |false    |$minusTwenty=|
|0           |false    |$today=      |


Create Special Notice

!| Vm 2309 Create Special Notice                                                                                                                                                                                                                                                                                                                        |
|Edit Previous|Subject Title                           |Internal Publish Date|External Publish Date|Acknowledgement Period|Target Roles                 |Subject Message                                   |Publish|Result?                                                        |Published?|Info About Result                                        |
|NO           |Title 1                                 |$today               |$plusTwenty          |16                    |TESTER-CLASS-1 TESTER-CLASS-2|Subject message 1                                 |NO     |Special Notice Saved                                           |No        |Message created but has not yet been published           |
|YES          |CCC                                     |$today               |$plusTwenty          |17                    |TESTER-CLASS-1 TESTER-CLASS-2|msg                                               |YES    |Special Notice Saved                                           |Yes       |Updated                                                  |
|YES          |XXX                                     |$today               |$plusTwenty          |17                    |TESTER-CLASS-1 TESTER-CLASS-2|msg                                               |YES    |This special notice was already published and cannot be updated|N/A       |Updated                                                  |
|NO           |Title 2                                 |$today               |$plusTwenty          |                      |TESTER-CLASS-1 TESTER-CLASS-2|Subject message 2                                 |NO     |acknowledgementPeriod is required                              |N/A       |Message not created as Acknowledgement Period is required|
|NO           |Title 3                                 |$today               |$plusTwenty          |8                     |                             |Subject message 3                                 |NO     |targetRoles is required                                        |N/A       |Message not created as target roles must be specified    |
|NO           |Title 4                                 |$wrongDate           |$plusTwenty          |8                     |TESTER-CLASS-1 TESTER-CLASS-2|Subject message 4                                 |NO     |Invalid field value                                            |N/A       |Message not created as internal publish date is invalid  |
|NO           |Title 5                                 |$today               |$wrongDate           |8                     |TESTER-CLASS-1 TESTER-CLASS-2|Subject message 5                                 |NO     |Invalid field value                                            |N/A       |Message not created as external publish date is invalid  |
|NO           |DVSA-ROLES                              |$today               |$today               |17                    |DVSA                         |DVSA-ROLES                                        |YES    |Special Notice Saved                                           |Yes       |Saved                                                    |
|NO           |VTS-ROLES                               |$today               |$today               |17                    |VTS                          |VTS-ROLES                                         |YES    |Special Notice Saved                                           |Yes       |Saved                                                    |
|NO           |to be broadcast in the future - testers1|$plusTwenty          |$plusTwenty          |80                    |TESTER-CLASS-1               |New special notice 1 message for testers (class 1)|YES    |Special Notice Saved                                           |Yes       |Saved                                                    |
|NO           |to be broadcast today - testers1        |$today               |$today               |80                    |TESTER-CLASS-1               |New special notice 2 message for testers (class 1)|YES    |Special Notice Saved                                           |Yes       |Saved                                                    |

!| Vm 2312 Special Notice Broadcast                                                      |
|UserName    |Person Id|Special Notice Content Title            |Is Special Notice Added?|
|tester1-user|2102     |to be broadcast in the future - testers1|false                   |
|tester1-user|2102     |to be broadcast today - testers1        |true                    |
|tester1-user|2102     |not yet published - testers1            |false                   |
|tester2-user|2103     |to be broadcast in the future - testers1|false                   |
|tester2-user|2103     |to be broadcast today - testers1        |false                   |
|tester2-user|2103     |already broadcast - testers1            |false                   |
|tester2-user|2103     |not yet published - testers1            |false                   |
|schememgt   |127      |DVSA-ROLES                              |true                    |
|site-manager|133      |VTS-ROLES                               |true                    |
|aedm        |129      |VTS-ROLES                               |true                    |
